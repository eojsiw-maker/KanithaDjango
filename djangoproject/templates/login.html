{% extends "base.html" %}

{% block title %}เข้าสู่ระบบ{% endblock %}

{% block hero_title %}เข้าสู่ระบบ{% endblock %}
{% block hero_sub %}ลงชื่อเข้าใช้ด้วยบัญชีของคุณเพื่อจัดการการลงทะเบียน{% endblock %}

{% block content %}
  <div class="container" style="max-width: 480px; margin-top: 18px;">
    <div class="card">
      <div class="text-center" style="margin-bottom: 32px;">
        <i class="fas fa-user-circle" style="font-size: 3rem; color: var(--accent); margin-bottom: 16px;"></i>
        <h2 style="margin: 16px 0 8px;">เข้าสู่ระบบ</h2>
        <p class="text-muted">เข้าสู่ระบบเพื่อจัดการการลงทะเบียนของคุณ</p>
      </div>

      {% if form.errors %}
        <div class="alert alert-error" style="background: rgba(255,235,235,0.8); color: #d63031; padding: 12px 16px; border-radius: var(--radius); margin-bottom: 24px; border: 1px solid rgba(214,48,49,0.2);">
          <i class="fas fa-exclamation-circle"></i> ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง
        </div>
      {% endif %}

      <form method="post" action="{% url 'core:login' %}" class="login-form">
        {% csrf_token %}
        <div class="form-group" style="margin-bottom: 20px;">
          <label class="form-label">
            <i class="fas fa-user"></i> ชื่อผู้ใช้
          </label>
          <input 
            type="text" 
            name="username" 
            class="form-control" 
            required 
            autofocus
            placeholder="กรอกชื่อผู้ใช้ของคุณ"
          >
        </div>

        <div class="form-group" style="margin-bottom: 24px;">
          <label class="form-label">
            <i class="fas fa-lock"></i> รหัสผ่าน
          </label>
          <div class="password-input" style="position: relative;">
            <input 
              type="password" 
              name="password" 
              class="form-control" 
              required
              placeholder="กรอกรหัสผ่านของคุณ"
            >
          </div>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 20px;">
          <i class="fas fa-sign-in-alt"></i> เข้าสู่ระบบ
        </button>

        <div class="text-center" style="margin-top: 24px; padding-top: 24px; border-top: 1px solid rgba(196,140,255,0.1);">
          <p style="margin-bottom: 12px;">
            <a href="{% url 'core:password_reset' %}" class="text-accent">
              <i class="fas fa-key"></i> ลืมรหัสผ่าน?
            </a>
          </p>
          <p>
            ยังไม่ได้เป็นสมาชิก? 
            <a href="{% url 'core:signup' %}" class="text-accent">
              <i class="fas fa-user-plus"></i> สมัครสมาชิก (นักศึกษา)
            </a>
          </p>
        </div>
      </form>
    </div>
  </div>

  <style>
    .text-center { text-align: center; }
    .form-group { position: relative; }
    .form-label {
      display: block;
      margin-bottom: 8px;
      color: var(--muted-2);
      font-weight: 500;
    }
    .form-label i {
      margin-right: 8px;
      color: var(--accent);
    }
    .form-control {
      padding-left: 16px;
    }
    .login-form a {
      text-decoration: none;
      transition: all 0.2s;
    }
    .login-form a:hover {
      opacity: 0.8;
    }
    .alert i {
      margin-right: 8px;
    }
  </style>
{% endblock %}
